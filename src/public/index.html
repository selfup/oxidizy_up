<DOCTYPE! html>
<html>
  <head>
    <title>The Universe</title>
  </head>
  <body>
  <style>
    body {background-color:teal;}
    h1   {color:white;}
  </style>
    <h1>Hello</h1>
    <div id="graph"></div>
      <div id="universe"></div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <script>
          const universeCall = () => {
            var coords
            $.ajax({
                async: false,
                type: 'GET',
                url: 'http://localhost:3000',
                success: function(data){
                  coords = data
                },
                error: function(err){
                  console.log("Failed!")
                }
              })
            return coords
          }

          var sample = JSON.parse(universeCall())

          var nodesBuilder = () => {
            var constructor = []
            for (var i = 0; i < sample.length; i++) {
              constructor.push({x: sample[i].x_y[0], y: sample[i].x_y[0]})
            }
            return constructor
          }

          nodes = nodesBuilder()

          var vis = d3.select("#graph")
            .append("svg")
            .attr("width", 200).attr("height", 200);

          vis.selectAll("circle.nodes")
             .data(nodes)
             .enter()
             .append("svg:circle")
             .attr("cx", function(d) { return d.x; })
             .attr("cy", function(d) { return d.y; })
             .attr("r", "2px")
             .attr("fill", "black")
        </script>
    </body>
</html>
